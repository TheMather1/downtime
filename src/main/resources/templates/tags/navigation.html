<!DOCTYPE html>
<div id="navbar" class="sidebar" xmlns:th="http://www.thymeleaf.org" th:fragment="sidebar">
    <!--/*@thymesVar id="avatar" type="java.net.URL"*/-->
    <!--/*@thymesVar id="username" type="String"*/-->
    <!--/*@thymesVar id="servers" type="java.util.Map<Long, String>"*/-->
    <!--/*@thymesVar id="guild" type="kotlin.Pair<Long, String>"*/-->
    <!--/*@thymesVar id="campaigns" type="java.util.Collection<pathfinder.domain.Campaign>"*/-->
    <!--/*@thymesVar id="campaign" type="pathfinder.domain.Campaign"*/-->
    <div class="scrollerWrapper">
        <div class="scroller">
            <div class="sidebarInner">
                <div class="sidebarContainer">
                    <div class="userContainer">
                        <img class="avatar" th:src="${avatar}" th:alt="${username}"/>
                        <th:block th:text="${username}"/>
                        <a class="logoutLink" href="/logout">
                            logout
                        </a>
                    </div>
                    <br/>
                    <div class="serverContainer">
                        <p class="sidebarHeading">Campaign</p>
                        <ul class="sidebarList">
                            <li th:each="c: ${#lists.sort(campaigns)}">
                                <a class="sidebarLink" th:href="@{'/campaign/{id}'(id=${c.id})}" th:text="${c.name}"
                                   th:classappend="${campaign != null && c.id == campaign?.id} ? 'activeLink'"/>
                            </li>
                            <li>
                                <button id="newCampaignButton" class="inputButton formOpen" type="button" popovertarget="newCampaignModal">
                                    New Campaign
                                </button>
                                <div id="newCampaignModal" class="formModal-content" popover>
                                        <form name="NewCampaignForm" action="/api/campaign" method="post">
                                            <label for="campaignName">Campaign name:</label>
                                            <input type="text" name="name" id="campaignName"/>
                                            <br><br>
                                            <input class="formSubmit inputButton" type="submit" value="Create Campaign" onclick=/>
                                        </form>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<header class="navbarHeader" xmlns:th="http://www.thymeleaf.org" th:if="${campaign} != null"  th:fragment="navbar(page)">
    <!--/*@thymesVar id="campaign" type="pathfinder.domain.Campaign"*/-->
    <nav class="navbar contentNavbar">
        <ul>
            <li th:classappend="${page == 'main'} ? 'activeContent'">
                <a th:href="@{'/campaign/{id}'(id=${campaign.id})}">Overview</a>
            </li>
            <li th:classappend="${page == 'kingdoms'} ? 'activeContent'">
                <a th:href="@{'/campaign/{id}/kingdoms'(id=${campaign.id})}">Kingdoms</a>
            </li>
            <li th:classappend="${page == 'maps'} ? 'activeContent'">
                <a th:href="@{'/campaign/{id}/maps'(id=${campaign.id})}">Maps</a>
            </li>
            <li th:classappend="${page == 'settlements'} ? 'activeContent'">
                <a th:href="@{'/campaign/{id}/settlements'(id=${campaign.id})}">Settlements</a>
            </li>
            <li th:classappend="${page == 'characters'} ? 'activeContent'">
                <a th:href="@{'/campaign/{id}/characters'(id=${campaign.id})}">Characters</a>
            </li>
        </ul>
    </nav>
</header>
